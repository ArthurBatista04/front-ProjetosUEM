{"ast":null,"code":"var _jsxFileName = \"/home/arthur/UEM/DesenvolvimentoPET/pet-ui/src/Components/Eventos/showEvento.js\";\nimport React, { Component, Fragment } from \"react\";\nimport Header from \"../Header/Header\";\nimport Axios from \"axios\";\nimport PathName from \"../pathConst\";\nimport TabEvento from \"./tabsOnGoingAndFinishedEvents\";\nimport CardError from \"../cardError\";\nimport ShowEventosAtivos from \"./showEventosAtivos\";\nimport ShowEventosAnteriores from \"./showEventosAnteriores\";\nimport ReactLoading from \"react-loading\";\nimport Swal from \"sweetalert2\";\nexport class showEvento extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClickEventosAtivos = () => {\n      this.setState({\n        showEventosAtivos: true,\n        showEventosAnteriores: false\n      });\n    };\n\n    this.handleClickEventosAnteriores = () => {\n      this.setState({\n        showEventosAtivos: false,\n        showEventosAnteriores: true\n      });\n    };\n\n    this.state = {\n      eventosAtivos: [],\n      eventosPassados: [],\n      showEventosAtivos: true,\n      showEventosAnteriores: false,\n      doneAtuais: false,\n      doneAntigos: false\n    };\n  }\n\n  componentWillMount() {\n    let date = new Date();\n    date.setHours(0, 0, 0, 0);\n    Axios.get(\"\".concat(PathName, \"/pet/api/Eventos?filter={\\n      \\\"where\\\": { \\n        \\\"dataFim\\\": {\\\"gte\\\": \\\"\").concat(date.toISOString(), \"\\\"}\\n      }\\n    }\")).then(res => {\n      this.setState({\n        eventosAtivos: res.data,\n        doneAtuais: true\n      });\n    }).catch(err => {\n      this.setState({\n        doneAtuais: true\n      });\n      return Swal.fire({\n        type: \"error\",\n        title: \"Ops! Algo deu errado\",\n        text: err.response.data.error.message\n      });\n    });\n    Axios.get(\"\".concat(PathName, \"/pet/api/Eventos?filter={\\n      \\\"where\\\": { \\n        \\\"dataFim\\\": {\\\"lt\\\": \\\"\").concat(date.toISOString(), \"\\\"}\\n      }\\n    }\")).then(res => {\n      this.setState({\n        eventosPassados: res.data,\n        doneAntigos: true\n      });\n    }).catch(err => {\n      this.setState({\n        doneAntigos: true\n      });\n      return Swal.fire({\n        type: \"error\",\n        title: \"Ops! Algo deu errado\",\n        text: err.response.data.error.message\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          eventosAtivos = _this$state.eventosAtivos,\n          eventosPassados = _this$state.eventosPassados,\n          showEventosAtivos = _this$state.showEventosAtivos,\n          showEventosAnteriores = _this$state.showEventosAnteriores,\n          doneAtuais = _this$state.doneAtuais,\n          doneAntigos = _this$state.doneAntigos;\n\n    if (!doneAtuais && !doneAntigos) {\n      return React.createElement(\"div\", {\n        style: styleLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(ReactLoading, {\n        type: \"bars\",\n        color: \"#42a5f5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }));\n    } else if (showEventosAtivos) {\n      if (eventosAtivos.length === 0) {\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }), React.createElement(TabEvento, {\n          handleClickEventosAtivos: this.handleClickEventosAtivos,\n          handleClickEventosAnteriores: this.handleClickEventosAnteriores,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }), React.createElement(CardError, {\n          titulo: \"Não consegui encontrar nenhum evento\",\n          mensagem: \"No momento, não temos nenum evento cadastrado. Volte mais tarde. \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }), React.createElement(TabEvento, {\n          handleClickEventosAtivos: this.handleClickEventosAtivos,\n          handleClickEventosAnteriores: this.handleClickEventosAnteriores,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }), React.createElement(ShowEventosAtivos, {\n          eventosAtivos: eventosAtivos,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }));\n      }\n    } else if (showEventosAnteriores) {\n      if (eventosPassados.length === 0) {\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }), React.createElement(TabEvento, {\n          handleClickEventosAtivos: this.handleClickEventosAtivos,\n          handleClickEventosAnteriores: this.handleClickEventosAnteriores,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }), React.createElement(CardError, {\n          titulo: \"Não consegui encontrar nenhum evento anterior\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }), React.createElement(TabEvento, {\n          handleClickEventosAtivos: this.handleClickEventosAtivos,\n          handleClickEventosAnteriores: this.handleClickEventosAnteriores,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }), React.createElement(ShowEventosAnteriores, {\n          eventosPassados: eventosPassados,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }));\n      }\n    }\n  }\n\n}\nconst styleLoading = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  marginTop: \"-50px\",\n  marginLeft: \"-50px\",\n  width: \"100px\",\n  height: \"100px\"\n};\nexport default showEvento;","map":{"version":3,"sources":["/home/arthur/UEM/DesenvolvimentoPET/pet-ui/src/Components/Eventos/showEvento.js"],"names":["React","Component","Fragment","Header","Axios","PathName","TabEvento","CardError","ShowEventosAtivos","ShowEventosAnteriores","ReactLoading","Swal","showEvento","constructor","props","handleClickEventosAtivos","setState","showEventosAtivos","showEventosAnteriores","handleClickEventosAnteriores","state","eventosAtivos","eventosPassados","doneAtuais","doneAntigos","componentWillMount","date","Date","setHours","get","toISOString","then","res","data","catch","err","fire","type","title","text","response","error","message","render","styleLoading","length","position","top","left","marginTop","marginLeft","width","height"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport Header from \"../Header/Header\";\nimport Axios from \"axios\";\nimport PathName from \"../pathConst\";\nimport TabEvento from \"./tabsOnGoingAndFinishedEvents\";\nimport CardError from \"../cardError\";\nimport ShowEventosAtivos from \"./showEventosAtivos\";\nimport ShowEventosAnteriores from \"./showEventosAnteriores\";\nimport ReactLoading from \"react-loading\";\nimport Swal from \"sweetalert2\";\n\nexport class showEvento extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      eventosAtivos: [],\n      eventosPassados: [],\n      showEventosAtivos: true,\n      showEventosAnteriores: false,\n      doneAtuais: false,\n      doneAntigos: false\n    };\n  }\n\n  componentWillMount() {\n    let date = new Date();\n    date.setHours(0, 0, 0, 0);\n    Axios.get(\n      `${PathName}/pet/api/Eventos?filter={\n      \"where\": { \n        \"dataFim\": {\"gte\": \"${date.toISOString()}\"}\n      }\n    }`\n    )\n      .then(res => {\n        this.setState({ eventosAtivos: res.data, doneAtuais: true });\n      })\n      .catch(err => {\n        this.setState({ doneAtuais: true });\n        return Swal.fire({\n          type: \"error\",\n          title: \"Ops! Algo deu errado\",\n          text: err.response.data.error.message\n        });\n      });\n    Axios.get(\n      `${PathName}/pet/api/Eventos?filter={\n      \"where\": { \n        \"dataFim\": {\"lt\": \"${date.toISOString()}\"}\n      }\n    }`\n    )\n      .then(res => {\n        this.setState({ eventosPassados: res.data, doneAntigos: true });\n      })\n      .catch(err => {\n        this.setState({ doneAntigos: true });\n        return Swal.fire({\n          type: \"error\",\n          title: \"Ops! Algo deu errado\",\n          text: err.response.data.error.message\n        });\n      });\n  }\n\n  handleClickEventosAtivos = () => {\n    this.setState({ showEventosAtivos: true, showEventosAnteriores: false });\n  };\n\n  handleClickEventosAnteriores = () => {\n    this.setState({ showEventosAtivos: false, showEventosAnteriores: true });\n  };\n\n  render() {\n    const {\n      eventosAtivos,\n      eventosPassados,\n      showEventosAtivos,\n      showEventosAnteriores,\n      doneAtuais,\n      doneAntigos\n    } = this.state;\n    if (!doneAtuais && !doneAntigos) {\n      return (\n        <div style={styleLoading}>\n          <ReactLoading type={\"bars\"} color={\"#42a5f5\"} />\n        </div>\n      );\n    } else if (showEventosAtivos) {\n      if (eventosAtivos.length === 0) {\n        return (\n          <Fragment>\n            <Header />\n            <TabEvento\n              handleClickEventosAtivos={this.handleClickEventosAtivos}\n              handleClickEventosAnteriores={this.handleClickEventosAnteriores}\n            />\n            <CardError\n              titulo={\"Não consegui encontrar nenhum evento\"}\n              mensagem={\n                \"No momento, não temos nenum evento cadastrado. Volte mais tarde. \"\n              }\n            />\n          </Fragment>\n        );\n      } else {\n        return (\n          <Fragment>\n            <Header />\n            <TabEvento\n              handleClickEventosAtivos={this.handleClickEventosAtivos}\n              handleClickEventosAnteriores={this.handleClickEventosAnteriores}\n            />\n            <ShowEventosAtivos eventosAtivos={eventosAtivos} />\n          </Fragment>\n        );\n      }\n    } else if (showEventosAnteriores) {\n      if (eventosPassados.length === 0) {\n        return (\n          <Fragment>\n            <Header />\n            <TabEvento\n              handleClickEventosAtivos={this.handleClickEventosAtivos}\n              handleClickEventosAnteriores={this.handleClickEventosAnteriores}\n            />\n            <CardError\n              titulo={\"Não consegui encontrar nenhum evento anterior\"}\n            />\n          </Fragment>\n        );\n      } else {\n        return (\n          <Fragment>\n            <Header />\n            <TabEvento\n              handleClickEventosAtivos={this.handleClickEventosAtivos}\n              handleClickEventosAnteriores={this.handleClickEventosAnteriores}\n            />\n            <ShowEventosAnteriores eventosPassados={eventosPassados} />\n          </Fragment>\n        );\n      }\n    }\n  }\n}\n\nconst styleLoading = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  marginTop: \"-50px\",\n  marginLeft: \"-50px\",\n  width: \"100px\",\n  height: \"100px\"\n};\nexport default showEvento;\n"]},"metadata":{},"sourceType":"module"}