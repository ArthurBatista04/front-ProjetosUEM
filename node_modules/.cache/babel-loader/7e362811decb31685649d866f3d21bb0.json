{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/arthur/UEM/DesenvolvimentoPET/pet-ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/arthur/UEM/DesenvolvimentoPET/pet-ui/src/Components/Eventos/DadosAdiconais/confirmacaoInscrito.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  display: block;\\n  margin: 0 auto;\\n  border-color: white;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component, Fragment } from \"react\";\nimport Axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { Redirect } from \"react-router-dom\";\nimport DadosAdicionais from \"./dadosAdicionais\";\nimport PathName from \"../../pathConst\";\nimport Header from \"../../Header/Header\";\nimport formatDate from \"../formatDate\";\nimport { css } from \"@emotion/core\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nconst override = css(_templateObject());\n\nclass confirmaçãoInscrito extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      usuario: [],\n      evento: [],\n      success: false,\n      valoresEvento: [],\n      voltarDadosAdicionais: false,\n      voltarEvento: false,\n      Token: {}\n    };\n\n    this.formatValor = valor => {\n      return valor === 0 ? \"Gratuito\" : \"R$ \".concat(valor);\n    };\n\n    this.getStyleButton = () => {\n      const success = this.state.success;\n      return !success ? \"btn blue lighten-1 right\" : \"btn green right\";\n    };\n\n    this.getTime = time => {\n      return time.substring(11, 16);\n    };\n\n    this.capitalizeString = str => {\n      return str.toLowerCase().replace(/\\b\\w/g, l => l.toUpperCase());\n    };\n\n    this.handleClickVoltar = () => {\n      const evento = this.state.evento;\n\n      if (evento.hasDadoAdicional) {\n        this.setState({\n          voltarDadosAdicionais: true\n        });\n      } else {\n        this.setState({\n          voltarEvento: true\n        });\n      }\n    };\n\n    this.handleClick = () => {\n      const _this$props = this.props,\n            respostas = _this$props.respostas,\n            idEvento = _this$props.idEvento;\n      this.setState({\n        sendState: true\n      });\n      const newInscrito = {\n        pago: false,\n        cargaHoraria: 0,\n        usuarioId: this.state.usuario.id,\n        eventoId: idEvento\n      };\n      Axios.post(\"http://\".concat(PathName, \"/pet/api/Inscritos\"), newInscrito, this.state.Token).then(async res => {\n        const status = await res.status;\n\n        if (status >= 200 && status < 300) {\n          const inscritoId = res.data.id;\n\n          if (respostas.length === 0) {\n            // se o evento não possui dados adicionais\n            this.setState({\n              voltarEvento: true\n            });\n            this.setState({\n              sendState: false,\n              success: true\n            });\n            return Swal.fire({\n              type: \"success\",\n              title: \"Inscrição realizada com sucesso\"\n            });\n          } else {\n            respostas.map(resp => resp.inscritoId = inscritoId);\n            Axios.post(\"http://\".concat(PathName, \"/pet/api/Respostas/array\"), {\n              data: respostas\n            }, this.state.Token).then(resp => {\n              this.setState({\n                sendState: false,\n                success: true\n              });\n              this.setState({\n                voltarEvento: true\n              });\n              return Swal.fire({\n                type: \"success\",\n                title: \"Inscrição realizada com sucesso\",\n                text: \"Foi enviado uma confirmação de inscrição da atividade para seu e-mail\"\n              });\n            }).catch(err => {\n              this.setState({\n                sendState: false\n              });\n              return Swal.fire({\n                type: \"error\",\n                title: \"Ops! algo deu errado\",\n                text: err.response.data.message\n              });\n            });\n          }\n        }\n      }).catch(err => {\n        this.setState({\n          sendState: false\n        });\n        return Swal.fire({\n          type: \"error\",\n          title: \"Ops! algo deu errado\",\n          text: err.response.data.error.message\n        });\n      });\n    };\n  }\n\n  componentWillMount() {\n    const idEvento = this.props.idEvento;\n    const userID = localStorage.getItem(\"user_id\");\n    const token = localStorage.getItem(\"access_token\");\n    const Token = {\n      headers: {\n        Authorization: token\n      }\n    };\n    const filterEvento = {\n      include: \"valores\"\n    };\n    this.setState({\n      Token: Token\n    });\n    Axios.all([Axios.get(\"http://\".concat(PathName, \"/pet/api/Usuarios/\").concat(userID), Token), Axios.get(\"http://\".concat(PathName, \"/pet/api/Eventos/\").concat(idEvento, \"?filter=\").concat(JSON.stringify(filterEvento)))]).then(Axios.spread((usuarioRes, eventoRes) => {\n      this.setState({\n        usuario: usuarioRes.data,\n        evento: eventoRes.data,\n        valoresEvento: eventoRes.data.valores\n      });\n    }));\n  }\n\n  render() {\n    const _this$state = this.state,\n          usuario = _this$state.usuario,\n          evento = _this$state.evento,\n          valoresEvento = _this$state.valoresEvento,\n          voltarDadosAdicionais = _this$state.voltarDadosAdicionais,\n          voltarEvento = _this$state.voltarEvento;\n    const idEvento = this.props.idEvento;\n\n    if (voltarDadosAdicionais) {\n      return React.createElement(DadosAdicionais, {\n        idEvento: idEvento,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      });\n    }\n\n    if (voltarEvento) {\n      return React.createElement(Redirect, {\n        to: \"/pet/eventos/\".concat(idEvento),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-panel z-depth-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"sobre\",\n      className: \"col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"person\"), \"Suas informa\\xE7\\xF5es\"), React.createElement(\"div\", {\n      className: \"basicInfo grey-text text-darken-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Nome:\"), React.createElement(\"span\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, this.capitalizeString(String(usuario.nome)))), React.createElement(\"hr\", {\n      className: \"style-six\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"CPF:\"), React.createElement(\"span\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, usuario.cpf)), \" \", React.createElement(\"hr\", {\n      className: \"style-six\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"E-mail:\"), React.createElement(\"span\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, usuario.email)), React.createElement(\"hr\", {\n      className: \"style-six\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    })), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"event\"), \"Informa\\xE7\\xF5es do evento\"), React.createElement(\"div\", {\n      className: \"basicInfo grey-text text-darken-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Nome:\"), React.createElement(\"span\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, evento.nome)), React.createElement(\"hr\", {\n      className: \"style-six\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Inicio do evento:\"), React.createElement(\"span\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, formatDate(String(evento.dataInicio)))), React.createElement(\"hr\", {\n      className: \"style-six\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"T\\xE9rmino do evento:\"), React.createElement(\"span\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, formatDate(String(evento.dataFim)))), React.createElement(\"hr\", {\n      className: \"style-six\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), evento.inicioInscricoes ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Inicio da inscri\\xE7\\xE3o:\"), React.createElement(\"span\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"\".concat(formatDate(String(evento.inicioInscricoes)), \" \\xE0s \").concat(this.getTime(String(evento.inicioInscricoes))))), React.createElement(\"hr\", {\n      className: \"style-six\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    })) : null, evento.fimInscricoes ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"T\\xE9rmino da inscri\\xE7\\xE3o:\"), React.createElement(\"span\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"\".concat(formatDate(String(evento.fimInscricoes)), \" \\xE0s \").concat(this.getTime(String(evento.fimInscricoes))))) : null, valoresEvento.map(valor => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, valor.nome), React.createElement(\"span\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, this.formatValor(valor.preco))), React.createElement(\"hr\", {\n      className: \"style-six\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"card-action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sweet-loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleClick,\n      className: this.getStyleButton(),\n      style: {\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        width: \"150px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, this.state.sendState ? React.createElement(ClipLoader, {\n      css: override,\n      sizeUnit: \"px\",\n      size: 25,\n      color: \"white\",\n      loading: this.state.sendState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }) : \"Confirmar\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn blue lighten-1 left\",\n      onClick: this.handleClickVoltar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"Voltar\")))))));\n  }\n\n}\n\nexport default confirmaçãoInscrito;","map":{"version":3,"sources":["/home/arthur/UEM/DesenvolvimentoPET/pet-ui/src/Components/Eventos/DadosAdiconais/confirmacaoInscrito.js"],"names":["React","Component","Fragment","Axios","Swal","Redirect","DadosAdicionais","PathName","Header","formatDate","css","ClipLoader","override","confirmaçãoInscrito","state","usuario","evento","success","valoresEvento","voltarDadosAdicionais","voltarEvento","Token","formatValor","valor","getStyleButton","getTime","time","substring","capitalizeString","str","toLowerCase","replace","l","toUpperCase","handleClickVoltar","hasDadoAdicional","setState","handleClick","props","respostas","idEvento","sendState","newInscrito","pago","cargaHoraria","usuarioId","id","eventoId","post","then","res","status","inscritoId","data","length","fire","type","title","map","resp","text","catch","err","response","message","error","componentWillMount","userID","localStorage","getItem","token","headers","Authorization","filterEvento","include","all","get","JSON","stringify","spread","usuarioRes","eventoRes","valores","render","String","nome","cpf","email","dataInicio","dataFim","inicioInscricoes","fimInscricoes","preco","textOverflow","whiteSpace","overflow","width"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport Axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { Redirect } from \"react-router-dom\";\nimport DadosAdicionais from \"./dadosAdicionais\";\nimport PathName from \"../../pathConst\";\nimport Header from \"../../Header/Header\";\nimport formatDate from \"../formatDate\";\nimport { css } from \"@emotion/core\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: white;\n`;\nclass confirmaçãoInscrito extends Component {\n  componentWillMount() {\n    const { idEvento } = this.props;\n    const userID = localStorage.getItem(\"user_id\");\n    const token = localStorage.getItem(\"access_token\");\n    const Token = {\n      headers: {\n        Authorization: token\n      }\n    };\n    const filterEvento = {\n      include: \"valores\"\n    };\n    this.setState({ Token: Token });\n    Axios.all([\n      Axios.get(`http://${PathName}/pet/api/Usuarios/${userID}`, Token),\n      Axios.get(\n        `http://${PathName}/pet/api/Eventos/${idEvento}?filter=${JSON.stringify(\n          filterEvento\n        )}`\n      )\n    ]).then(\n      Axios.spread((usuarioRes, eventoRes) => {\n        this.setState({\n          usuario: usuarioRes.data,\n          evento: eventoRes.data,\n          valoresEvento: eventoRes.data.valores\n        });\n      })\n    );\n  }\n\n  state = {\n    usuario: [],\n    evento: [],\n    success: false,\n    valoresEvento: [],\n    voltarDadosAdicionais: false,\n    voltarEvento: false,\n    Token: {}\n  };\n\n  formatValor = valor => {\n    return valor === 0 ? \"Gratuito\" : `R$ ${valor}`;\n  };\n  getStyleButton = () => {\n    const { success } = this.state;\n    return !success ? \"btn blue lighten-1 right\" : \"btn green right\";\n  };\n\n  getTime = time => {\n    return time.substring(11, 16);\n  };\n\n  capitalizeString = str => {\n    return str.toLowerCase().replace(/\\b\\w/g, l => l.toUpperCase());\n  };\n\n  handleClickVoltar = () => {\n    const { evento } = this.state;\n    if (evento.hasDadoAdicional) {\n      this.setState({ voltarDadosAdicionais: true });\n    } else {\n      this.setState({ voltarEvento: true });\n    }\n  };\n\n  handleClick = () => {\n    const { respostas, idEvento } = this.props;\n    this.setState({ sendState: true });\n    const newInscrito = {\n      pago: false,\n      cargaHoraria: 0,\n      usuarioId: this.state.usuario.id,\n      eventoId: idEvento\n    };\n    Axios.post(\n      `http://${PathName}/pet/api/Inscritos`,\n      newInscrito,\n      this.state.Token\n    )\n      .then(async res => {\n        const status = await res.status;\n        if (status >= 200 && status < 300) {\n          const inscritoId = res.data.id;\n          if (respostas.length === 0) {\n            // se o evento não possui dados adicionais\n            this.setState({ voltarEvento: true });\n            this.setState({ sendState: false, success: true });\n            return Swal.fire({\n              type: \"success\",\n              title: \"Inscrição realizada com sucesso\"\n            });\n          } else {\n            respostas.map(resp => (resp.inscritoId = inscritoId));\n            Axios.post(\n              `http://${PathName}/pet/api/Respostas/array`,\n              { data: respostas },\n              this.state.Token\n            )\n              .then(resp => {\n                this.setState({ sendState: false, success: true });\n                this.setState({ voltarEvento: true });\n                return Swal.fire({\n                  type: \"success\",\n                  title: \"Inscrição realizada com sucesso\",\n                  text:\n                    \"Foi enviado uma confirmação de inscrição da atividade para seu e-mail\"\n                });\n              })\n              .catch(err => {\n                this.setState({ sendState: false });\n                return Swal.fire({\n                  type: \"error\",\n                  title: \"Ops! algo deu errado\",\n                  text: err.response.data.message\n                });\n              });\n          }\n        }\n      })\n      .catch(err => {\n        this.setState({ sendState: false });\n        return Swal.fire({\n          type: \"error\",\n          title: \"Ops! algo deu errado\",\n          text: err.response.data.error.message\n        });\n      });\n  };\n\n  render() {\n    const {\n      usuario,\n      evento,\n      valoresEvento,\n      voltarDadosAdicionais,\n      voltarEvento\n    } = this.state;\n    const { idEvento } = this.props;\n    if (voltarDadosAdicionais) {\n      return <DadosAdicionais idEvento={idEvento} />;\n    }\n    if (voltarEvento) {\n      return <Redirect to={`/pet/eventos/${idEvento}`} />;\n    }\n    return (\n      <Fragment>\n        <Header />\n        <div className=\"container\">\n          <div className=\"card-panel z-depth-2\">\n            <div className=\"row\">\n              <div id=\"sobre\" className=\"col s12\" />\n              <h5>\n                <i className=\"material-icons left\">person</i>Suas informações\n              </h5>\n              <div className=\"basicInfo grey-text text-darken-2\">\n                <p>\n                  <b>Nome:</b>\n                  <span className=\"right\">\n                    {this.capitalizeString(String(usuario.nome))}\n                  </span>\n                </p>\n                <hr className=\"style-six\" />\n                <p>\n                  <b>CPF:</b>\n                  <span className=\"right\">{usuario.cpf}</span>\n                </p>{\" \"}\n                <hr className=\"style-six\" />\n                <p>\n                  <b>E-mail:</b>\n                  <span className=\"right\">{usuario.email}</span>\n                </p>\n                <hr className=\"style-six\" />\n              </div>\n              <h5>\n                <i className=\"material-icons left\">event</i>Informações do\n                evento\n              </h5>\n              <div className=\"basicInfo grey-text text-darken-2\">\n                <p>\n                  <b>Nome:</b>\n                  <span className=\"right\">{evento.nome}</span>\n                </p>\n                <hr className=\"style-six\" />\n                <p>\n                  <b>Inicio do evento:</b>\n                  <span className=\"right\">\n                    {formatDate(String(evento.dataInicio))}\n                  </span>\n                </p>\n                <hr className=\"style-six\" />\n                <p>\n                  <b>Término do evento:</b>\n                  <span className=\"right\">\n                    {formatDate(String(evento.dataFim))}\n                  </span>\n                </p>\n                <hr className=\"style-six\" />\n                {evento.inicioInscricoes ? (\n                  <Fragment>\n                    <p>\n                      <b>Inicio da inscrição:</b>\n                      <span className=\"right\">{`${formatDate(\n                        String(evento.inicioInscricoes)\n                      )} às ${this.getTime(\n                        String(evento.inicioInscricoes)\n                      )}`}</span>\n                    </p>\n                    <hr className=\"style-six\" />\n                  </Fragment>\n                ) : null}\n                {evento.fimInscricoes ? (\n                  <p>\n                    <b>Término da inscrição:</b>\n                    <span className=\"right\">{`${formatDate(\n                      String(evento.fimInscricoes)\n                    )} às ${this.getTime(String(evento.fimInscricoes))}`}</span>\n                  </p>\n                ) : null}\n                {valoresEvento.map(valor => (\n                  <div>\n                    <p>\n                      <b>{valor.nome}</b>\n                      <span className=\"right\">\n                        {this.formatValor(valor.preco)}\n                      </span>\n                    </p>\n                    <hr className=\"style-six\" />\n                  </div>\n                ))}\n              </div>\n              <div className=\"card-action\">\n                <div className=\"sweet-loading\">\n                  <button\n                    onClick={this.handleClick}\n                    className={this.getStyleButton()}\n                    style={{\n                      textOverflow: \"ellipsis\",\n                      whiteSpace: \"nowrap\",\n                      overflow: \"hidden\",\n                      width: \"150px\"\n                    }}\n                  >\n                    {this.state.sendState ? (\n                      <ClipLoader\n                        css={override}\n                        sizeUnit={\"px\"}\n                        size={25}\n                        color={\"white\"}\n                        loading={this.state.sendState}\n                      />\n                    ) : (\n                      \"Confirmar\"\n                    )}\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn blue lighten-1 left\"\n                    onClick={this.handleClickVoltar}\n                  >\n                    {\"Voltar\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default confirmaçãoInscrito;\n"]},"metadata":{},"sourceType":"module"}